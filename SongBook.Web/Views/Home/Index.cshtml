@model SongViewModel

@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">@Model.Song.Name</h1>
    <h3 class="display-4">@Model.Song.Author</h3>
    <table>
        @for (int i = 0; i < Model.Parts.Count; ++i)
        {
            PartViewModel part = Model.Parts[i];
            <tr>
                <td valign="top">@part.Part.Name</td>
                <td>
                    @if (Model.Parts.Take(i).All(p => p.Part.Name != part.Part.Name))
                    {
                        foreach (IList<Chord> chords in part.FirstBarChords)
                        {
                            if (chords.Count == 1)
                            {
                                <a title="@chords[0].Fingering">@chords[0].ToString()</a>
                            }
                            else
                            {
                                <a title="@chords[0].Fingering">@chords[0].ToString()</a><text>-</text><a title="@chords[1].Fingering">@chords[1].ToString()</a>
                            }
                            <br />
                        }
                    }
                </td>
                <td>
                    @if (Model.Parts.Take(i).All(p => p.Part.Name != part.Part.Name))
                    {
                        foreach (IList<Chord> chords in part.SecondBarChords)
                        {
                            if (chords.Count == 1)
                            {
                                <a title="@chords[0].Fingering">@chords[0].ToString()</a>
                            }
                            else
                            {
                                <a title="@chords[0].Fingering">@chords[0].ToString()</a><text>-</text><a title="@chords[1].Fingering">@chords[1].ToString()</a>
                            }
                            <br />
                        }
                    }
                </td>
                <td>
                    @foreach (string line in part.TextLines)
                    {
                        @line<br/>
                    }
                </td>
            </tr>
        }
    </table>
</div>